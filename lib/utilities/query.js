'use strict';

function queryByClass(node, Class) {
  var nodes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

  if (node instanceof Class) {
    nodes.push(node);
  }

  var nodeNonTerminalNode = node.isNonTerminalNode();

  if (nodeNonTerminalNode) {
    var childNodes = node.getChildNodes();

    childNodes.forEach(function (childNode) {
      queryByClass(childNode, Class, nodes);
    });
  }

  return nodes;
}

function queryByClasses(node, Classes) {
  var nodes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

  Classes.some(function (Class) {
    if (node instanceof Class) {
      nodes.push(node);

      return true;
    }
  });

  var nodeNonTerminalNode = node.isNonTerminalNode();

  if (nodeNonTerminalNode) {
    var childNodes = node.getChildNodes();

    childNodes.forEach(function (childNode) {
      queryByClasses(childNode, Classes, nodes);
    });
  }

  return nodes;
}

module.exports = {
  queryByClass: queryByClass,
  queryByClasses: queryByClasses
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvcXVlcnkuanMiXSwibmFtZXMiOlsicXVlcnlCeUNsYXNzIiwibm9kZSIsIkNsYXNzIiwibm9kZXMiLCJwdXNoIiwibm9kZU5vblRlcm1pbmFsTm9kZSIsImlzTm9uVGVybWluYWxOb2RlIiwiY2hpbGROb2RlcyIsImdldENoaWxkTm9kZXMiLCJmb3JFYWNoIiwiY2hpbGROb2RlIiwicXVlcnlCeUNsYXNzZXMiLCJDbGFzc2VzIiwic29tZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLFNBQVNBLFlBQVQsQ0FBc0JDLElBQXRCLEVBQTRCQyxLQUE1QixFQUErQztBQUFBLE1BQVpDLEtBQVksdUVBQUosRUFBSTs7QUFDN0MsTUFBSUYsZ0JBQWdCQyxLQUFwQixFQUEyQjtBQUN6QkMsVUFBTUMsSUFBTixDQUFXSCxJQUFYO0FBQ0Q7O0FBRUQsTUFBTUksc0JBQXNCSixLQUFLSyxpQkFBTCxFQUE1Qjs7QUFFQSxNQUFJRCxtQkFBSixFQUF5QjtBQUN2QixRQUFNRSxhQUFhTixLQUFLTyxhQUFMLEVBQW5COztBQUVBRCxlQUFXRSxPQUFYLENBQW1CLFVBQVNDLFNBQVQsRUFBb0I7QUFDckNWLG1CQUFhVSxTQUFiLEVBQXdCUixLQUF4QixFQUErQkMsS0FBL0I7QUFDRCxLQUZEO0FBR0Q7O0FBRUQsU0FBT0EsS0FBUDtBQUNEOztBQUVELFNBQVNRLGNBQVQsQ0FBd0JWLElBQXhCLEVBQThCVyxPQUE5QixFQUFtRDtBQUFBLE1BQVpULEtBQVksdUVBQUosRUFBSTs7QUFDakRTLFVBQVFDLElBQVIsQ0FBYSxVQUFTWCxLQUFULEVBQWdCO0FBQzNCLFFBQUlELGdCQUFnQkMsS0FBcEIsRUFBMkI7QUFDekJDLFlBQU1DLElBQU4sQ0FBV0gsSUFBWDs7QUFFQSxhQUFPLElBQVA7QUFDRDtBQUNGLEdBTkQ7O0FBUUEsTUFBTUksc0JBQXNCSixLQUFLSyxpQkFBTCxFQUE1Qjs7QUFFQSxNQUFJRCxtQkFBSixFQUF5QjtBQUN2QixRQUFNRSxhQUFhTixLQUFLTyxhQUFMLEVBQW5COztBQUVBRCxlQUFXRSxPQUFYLENBQW1CLFVBQVNDLFNBQVQsRUFBb0I7QUFDckNDLHFCQUFlRCxTQUFmLEVBQTBCRSxPQUExQixFQUFtQ1QsS0FBbkM7QUFDRCxLQUZEO0FBR0Q7O0FBRUQsU0FBT0EsS0FBUDtBQUNEOztBQUVEVyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZmLDRCQURlO0FBRWZXO0FBRmUsQ0FBakIiLCJmaWxlIjoicXVlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHF1ZXJ5QnlDbGFzcyhub2RlLCBDbGFzcywgbm9kZXMgPSBbXSkge1xuICBpZiAobm9kZSBpbnN0YW5jZW9mIENsYXNzKSB7XG4gICAgbm9kZXMucHVzaChub2RlKTtcbiAgfVxuXG4gIGNvbnN0IG5vZGVOb25UZXJtaW5hbE5vZGUgPSBub2RlLmlzTm9uVGVybWluYWxOb2RlKCk7XG5cbiAgaWYgKG5vZGVOb25UZXJtaW5hbE5vZGUpIHtcbiAgICBjb25zdCBjaGlsZE5vZGVzID0gbm9kZS5nZXRDaGlsZE5vZGVzKCk7XG5cbiAgICBjaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24oY2hpbGROb2RlKSB7XG4gICAgICBxdWVyeUJ5Q2xhc3MoY2hpbGROb2RlLCBDbGFzcywgbm9kZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5vZGVzO1xufVxuXG5mdW5jdGlvbiBxdWVyeUJ5Q2xhc3Nlcyhub2RlLCBDbGFzc2VzLCBub2RlcyA9IFtdKSB7XG4gIENsYXNzZXMuc29tZShmdW5jdGlvbihDbGFzcykge1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgQ2xhc3MpIHtcbiAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3Qgbm9kZU5vblRlcm1pbmFsTm9kZSA9IG5vZGUuaXNOb25UZXJtaW5hbE5vZGUoKTtcblxuICBpZiAobm9kZU5vblRlcm1pbmFsTm9kZSkge1xuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBub2RlLmdldENoaWxkTm9kZXMoKTtcblxuICAgIGNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbihjaGlsZE5vZGUpIHtcbiAgICAgIHF1ZXJ5QnlDbGFzc2VzKGNoaWxkTm9kZSwgQ2xhc3Nlcywgbm9kZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5vZGVzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcXVlcnlCeUNsYXNzLFxuICBxdWVyeUJ5Q2xhc3Nlc1xufTtcbiJdfQ==